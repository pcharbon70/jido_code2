# 51 â€” Git Operations & PR Flow

## Overview

This spec defines the happy-path git and PR creation sequence for JidoCode workflow shipping steps.

Safety rules, guardrails, and failure policy are defined in `52_git_safety_policy.md`.

## Branch Strategy

Pattern:

```text
jidocode/<workflow-name>/<short-run-id>
```

Defaults are project-configurable.

## Happy Path Sequence

### 1. Prepare

- ensure workspace baseline branch is synced
- establish run branch context

### 2. Stage and Summarize

- stage intended changes
- generate diff summary for approval context

### 3. Approval

- approval gate passes with run context and diff/test summary

### 4. Commit

- create structured commit message
- include workflow/run metadata trailer

### 5. Push

- push run branch to remote

### 6. Create Pull Request

- open PR via GitHub API
- persist PR URL and metadata artifact

## Commit Message Contract

```text
<type>: <short summary>

<body>

Generated by JidoCode workflow: <workflow_name>
Run ID: <run_id>
```

## PR Body Contract

Required sections:

1. Summary
2. Change list
3. Workflow metadata
4. Test results summary

## Dry Run Mode

- executes workflow and diff generation
- skips commit/push/PR
- persists dry-run artifact bundle

## Post-Create Behavior

- persist PR metadata
- monitor status changes via webhook or poll
- optional branch cleanup policy governed by git safety policy
